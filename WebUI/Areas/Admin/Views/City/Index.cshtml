@model TraversalCoreProject.Models.CityClassViewModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h1>Şehir - Ülke İşlemleri</h1>
<br />
<a type="button" id="btnGetList" class="btn btn-outline-info">Şehir Listesi</a>
<a type="button" id="btnGetById" class="btn btn-outline-primary">Şehir Getir</a>
<a type="button" id="btnAdd" class="btn btn-outline-warning">Şehir Ekle</a>
<a type="button" id="btnDelete" class="btn btn-outline-danger">Şehir Sil</a>
<a type="button" id="btnUpdate" class="btn btn-outline-success">Şehir Güncelle</a>
<br /><br />


<div id="cityList">
    Buraya Şehir Gelecek
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
    $('#btnGetList').click(function () {
        $.ajax({
            contentType: 'application/json; charset=utf-8',
            dataType: 'json',
            type: 'GET',
            url: '/Admin/City/CityList',
            success: function (func) {
                let w = jQuery.parseJSON(func);
                console.log(w);
                let tableHtml = '<table class="table table-bordered"><tr> <th>Şehir ID</th> <th>Şehir Adı</th> <th>Ülke Adı</th> </tr>';
                $.each(w, function (index, value) {
                    tableHtml += '<tr><td>' + value.Id + '</td><td>' + value.Name + '</td><td>' + value.Country + '</td></tr>';
                });
                tableHtml += '</table>';
                $('#cityList').html(tableHtml);
            }
        });
    });
</script>